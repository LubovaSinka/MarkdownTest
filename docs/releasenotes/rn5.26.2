Release Notes
-------------

[v5.26.2](https://github.com/openl-tablets/openl-tablets/releases/tag/5.26.2) on the GitHub

### New Features

**The ability to propagate an HTTP header into the OpenL Tablets rules execution is now available.**

The functionality that propagates an HTTP header into the OpenL Tablets rules execution is now available.

**SpreadsheetResult beans are now supported as input parameters in OpenL Tablets Rule Services.**

### Improvements

**Core:**

*   Spaces and special symbols +, %, (), & are now supported for the localization function msg() and localization property files .

The property file can contain properties with a space and +, %, (), & special symbols. Example: "Rounding Amount + 1 = $1": in this case, the function msg("Rounding Amount + 1") must return "$1".

*   The "$ref" properties are replaced with "\_ref\_" properties for environment variables.

**Rule Services:**

*   Environment in Dockerfile can now be customized before starting Jetty.
*   An exception message is more informative now in case of Rule Services failure.
*   A list of the available services is ordered alphabetically.

**WebStudio:**

*   An ability to attach external tools is introduced.

### Fixed Bugs

**Core:**

*   An error identifying that the spreadsheet step cannot be found is displayed when a decision table has a custom spreadsheet result input parameter.
*   Boolean, date and integer literals are not working in a spreadsheet.
*   The "Cannot parse field name." error is displayed for the expression in the rules table condition.
*   Numerous errors are displayed if the vocabulary has the array datatype.
*   The "\[Ljava.lang.String;@c33e738" and "\[Ljava.lang.String;@6c55f2f9" errors are displayed in the drop-down lists of tables.
*   The empty array elements are trimmed.
*   Only the first rule works properly if BEX grammar is used in the DT condition.

**WebStudio:**

*   A project cannot be deployed to a GIT repository.
*   The "Sorry! Something went wrong." error is displayed on opening a module that contains a medium size rule with errors.
*   The "Cannot load the module: NullPointerException:" error is displayed in the error section for the transform operation.
*   The "org.openl.rules.helpers.RulesUtils.copy(java.lang.Object)" method fails on running the tests from another module.
*   “X” has inconsistent behavior in the aActions column in the Repository tab if a non-main branch is selected.
*   The "NullPointerException" is displayed in logs on project closure for a previously deleted project when using two browsers.
*   Methods are highlighted incorrectly if there is a break line in the expression.
*   There is a typo in the OpenAPI file configuration.
*   The "Project not found" 404 error is displayed if a user opens or closes a project in the Repository tab.
*   The method name is incorrectly highlighted if the method is called in braces.
*   User profile settings are locked for editing in OpenL Tablets WebStudio in a single-user mode.
*   The "Sorry! Something went wrong." error is displayed on running a test table that has a reference to the erroneous table.
*   The NullPointerException is displayed in trace for column match tables.
*   An incorrect text is underlined in the expanded error message.
*   The horizontal scroll overlaps the open icon for a node in a trace table.

**DEMO:**

*   Projects cannot be deployed or re-deployed after a specific project is deployed.

**Rule Services:**

*   OpenL Tablets Rule Services throws "ClassCastException" on calling a method generated for data table of the SpreadsheetResult or CustomSpreadsheetResult type.
*   The "java.util.HashMap" class is displayed for cells of AnySpreadsheetResult in OpenL Tablets Rule Services.
*   The propertyNamingStrategy is not applied to the AnySpreadsheetResult fields.
*   A path to the non-existing properties file is logged.

**Repository:**

*   If entered settings cannot be applied, default settings are restored.

**Maven Plugin:**

*   The verify Maven goal does not perform a check on whether the target project can be successfully deployed.

### Updated Libraries

**Vulnerability CVE-2022-25857, CVE-2022-38749, CVE-2022-38752.**

*   Spring Framework 5.3.23
*   Spring Security 5.7.3
*   Spring Boot 2.7.3
*   Jackson 2.13.4
*   Kafka 3.2.3
*   Netty 4.1.82.Final
*   Jetty 10.0.12
*   Swagger UI 4.14.0
*   Apache Avro 1.11.1
*   AWS S3 SDK S3 1.12.305
*   Azure Blob Storage 12.19.1
*   JGit 6.3.0.202209071007
*   MSSQL JDBC Driver 11.2.1.jre11
*   Hibernate ORM 5.6.11.Final
*   Hibernate Validator 6.2.5.Final
*   GreenMail Core 1.6.10
*   Gson 2.9.1
*   Apache Groovy 3.0.13
*   Bouncycastle 1.71.1
*   Joda Time 2.11.1
*   XMLSec 2.3.2
*   SnakeYAML 1.32
*   Cloning 1.10.3
